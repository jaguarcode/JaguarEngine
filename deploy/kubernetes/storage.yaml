---
# JaguarEngine Persistent Storage Configuration
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: jaguar-fast-storage
  labels:
    app.kubernetes.io/name: jaguar-engine
    app.kubernetes.io/component: storage
provisioner: kubernetes.io/aws-ebs
parameters:
  type: gp3
  iopsPerGB: "50"
  throughput: "250"
  encrypted: "true"
reclaimPolicy: Retain
allowVolumeExpansion: true
volumeBindingMode: WaitForFirstConsumer
---
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
  name: jaguar-standard-storage
  labels:
    app.kubernetes.io/name: jaguar-engine
provisioner: kubernetes.io/aws-ebs
parameters:
  type: gp3
  encrypted: "true"
reclaimPolicy: Delete
allowVolumeExpansion: true
volumeBindingMode: WaitForFirstConsumer
---
# Terrain Cache PVC
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: jaguar-terrain-cache
  namespace: jaguar-simulation
  labels:
    app.kubernetes.io/name: jaguar-engine
    app.kubernetes.io/component: terrain-cache
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: jaguar-fast-storage
  resources:
    requests:
      storage: 100Gi
---
# Terrain Data PVC (for pre-loaded terrain data)
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: jaguar-terrain-data
  namespace: jaguar-simulation
  labels:
    app.kubernetes.io/name: jaguar-engine
    app.kubernetes.io/component: terrain-data
spec:
  accessModes:
    - ReadOnlyMany
  storageClassName: jaguar-standard-storage
  resources:
    requests:
      storage: 500Gi
---
# Simulation Logs PVC
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: jaguar-logs
  namespace: jaguar-simulation
  labels:
    app.kubernetes.io/name: jaguar-engine
    app.kubernetes.io/component: logs
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: jaguar-standard-storage
  resources:
    requests:
      storage: 50Gi
---
# Recording Storage (for simulation playback)
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: jaguar-recordings
  namespace: jaguar-simulation
  labels:
    app.kubernetes.io/name: jaguar-engine
    app.kubernetes.io/component: recordings
spec:
  accessModes:
    - ReadWriteMany
  storageClassName: jaguar-standard-storage
  resources:
    requests:
      storage: 200Gi
